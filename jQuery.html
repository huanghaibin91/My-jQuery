<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>jQuery</title>
    <script src="https://cdn.staticfile.org/jquery/2.0.0/jquery.js" type="text/javascript"></script>
</head>

<body>
    <img src="./image/jQuery-selector.png" alt=""><br>
    <img src="./image/img_jquerydim.gif" alt="">
    <a href="">this is a a</a>
    <script type="text/javascript">
        // 文档就绪，ready函数可以多次使用，且DOM元素加载好了就可以使用了
        $(document).ready(function() {

        });
        // 简写
        $(function() {

        });

        // jQuery选择器基于CSS选择器，CSS选择器方法jQuery都能使用

        // jQuery对象访问：
        // each(callback(index, ele))，执行传递进来的函数时，函数中的this关键字都指向一个不同的DOM元素（每次都是一个不同的匹配元素）在each方法内部，this指带的是普通的DOM元素了，如果需要调用jQuery的方法那就需要用$来重新包装。而且，在每次执行函数时，都会给函数传递一个表示作为执行环境的元素在匹配的元素集合中所处位置的数字值作为参数（从零开始的整型）。 返回 'false' 将停止循环 (就像在普通的循环中使用 'break')。返回 'true' 跳至下一个循环(就像在普通的循环中使用'continue')。
        // get(index)，返回一个DOM元素，可以使用DOM方法，没有index则返回一个DOM数组，可以使用JS数组方法

        // 数据访问，jQuery使用data()、removeData()操作DOM中data-[key] = [value]的数据

        // speed参数："slow"、"fast" 或毫秒；callback是完成动画后执行的函数
        
        // 元素显示隐藏
        // $(selector).hide(speed,callback); 隐藏
        // $(selector).show(speed,callback); 显示
        // $(selector).toggle(speed,callback); 隐藏显示切换

        // 元素淡入淡出
        // $(selector).fadeIn(speed,callback); 淡入显示
        // $(selector).fadeOut(speed,callback); 淡出隐藏
        // $(selector).fadeToggle(speed,callback); 淡入淡出切换
        // $(selector).fadeTo(speed,opacity,callback); 元素渐变到设定的透明度

        // 滑动
        // $(selector).slideDown(speed,callback); 向下滑出
        // $(selector).slideUp(speed,callback); 向上滑入
        // $(selector).slideToggle(speed,callback); 滑入滑出切换

        // 动画
        // 必需的 params 参数定义形成动画的 CSS 属性，将要变化的CSS属性放入这个对象里，当使用 animate() 时，
        // 必须使用 Camel 标记法书写所有的属性名，比如，必须使用 paddingLeft 而不是 padding-left，、使用 marginRight 
        // 而不是 margin-right，等等。也可以定义相对值（该值相对于元素的当前值）。需要在值的前面加上 += 或 -=。
        // 您甚至可以把属性的动画值设置为 "show"、"hide" 或 "toggle"。
        // 动画可以使用队列，动画会按顺序依次执行
        // $(selector).animate({params},speed,callback);
        // 停止动画，jQuery stop() 方法用于停止动画或效果，在它们完成之前。stop() 方法适用于所有 jQuery 效果函数，
        // 包括滑动、淡入淡出和自定义动画，可选的 stopAll 参数规定是否应该清除动画队列。默认是 false，即仅停止活动的动画，
        // 允许任何排入队列的动画向后执行。可选的 goToEnd 参数规定是否立即完成当前动画。默认是 false。
        // $(selector).stop(stopAll,goToEnd);
        // finish()停止当前正在运行的动画，删除所有排队的动画，并完成匹配元素所有的动画
        // delay(time)，设置一个延时来推迟执行队列中之后的项目
        // jQuery.fx.off，关闭页面上所有的动画
        // jQuery.fx.interval，设置动画的显示帧速

        // jQuery 方法链接，允许我们在相同的元素上运行多条 jQuery 命令，一条接着另一条。

        // 事件对象
        // event.data 当前执行的处理器被绑定的时候，包含可选的数据传递给jQuery.fn.bind
        $("a").each(function(i) {
            $(this).bind('click', {index: i}, function(e) {
                alert('my index is ' + e.data.index);
            });
        });

        // 获取内容和属性，没有参数的时候就是获取。有参数的时候是设置，也同样拥有回调函数。回调函数有两个参数：
        // 被选元素列表中当前元素的下标，以及原始（旧的）值。
        // text() - 设置或返回所选元素的文本内容
        // html() - 设置或返回所选元素的内容（包括 HTML 标记）
        // val() - 设置或返回表单字段的值
        // attr() - 方法用于获取设置属性值,对于HTML元素我们自己自定义的DOM属性，在处理时，使用attr方法
        // prop()  - 对于HTML元素本身就带有的固有属性，在处理时，使用prop方法

        // 添加元素，append() 和 prepend() 方法能够通过参数接收无限数量的新元素。可以通过 jQuery 来生成文本/HTML
        // （就像上面的例子那样），或者通过 JavaScript 代码和 DOM 元素。
        // append() - 在被选元素的结尾插入内容
        // prepend() - 在被选元素的开头插入内容
        // after() - 在被选元素之后插入内容
        // before() - 在被选元素之前插入内容
        // wrap() - 创建一个新元素包裹选择的元素

        // 删除元素
        // remove() - 删除被选元素（及其子元素），remove() 方法也可接受一个参数，允许您对被删元素进行过滤。
        // 该参数可以是任何 jQuery 选择器的语法。满足条件的元素才会被删除。
        // empty() - 从被选元素中删除子元素

        // 设置CSS类
        // addClass(cls | fn) - 向被选元素添加一个或多个类，可以传递函数，返回值
        // removeClass(cls | fn) - 从被选元素删除一个或多个类
        // toggleClass() - 对被选元素进行添加/删除类的切换操作
        // css() - 设置或返回样式属性，一个参数获取名称的属性，两个是设置名称的属性，或者用一个对象设置

        // 尺寸
        // width()，方法设置或返回元素的宽度（不包括内边距、边框或外边距）
        // height()，方法设置或返回元素的高度（不包括内边距、边框或外边距）
        // innerWidth()，方法返回元素的宽度（包括内边距）
        // innerHeight()，方法返回元素的高度（包括内边距）
        // outerWidth()，方法返回元素的宽度（包括内边距和边框）
        // outerHeight()，方法返回元素的高度（包括内边距和边框）

        // 元素遍历

        // parent()，返回被选元素的直接父元素
        // parents()，返回被选元素的所有祖先元素，它一路向上直到文档的根元素 (<html>)
        // parentsUntil()，返回介于两个给定元素之间的所有祖先元素

        // children()，返回被选元素的所有直接子元素，使用可选参数来过滤对子元素的搜索
        // find()，返回被选元素的后代元素，一路向下直到最后一个后代

        // siblings()，返回被选元素的所有同胞元素
        // next()，返回被选元素的下一个同胞元素
        // nextAll()，返回被选元素的所有跟随的同胞元素
        // nextUntil()，返回介于两个给定参数之间的所有跟随的同胞元素

        // prev(), prevAll() 以及 prevUntil() 方法的工作方式与上面的方法类似，只不过方向相反而已：它们返回
        // 的是前面的同胞元素（在 DOM 树中沿着同胞之前元素遍历，而不是之后元素遍历）
        // prev()
        // prevAll()
        // prevUntil()

        // first(), 返回被选元素的首个元素
        // last()，返回被选元素的最后一个元素
        // eq()，返回被选元素中带有指定索引号的元素
        // filter()，允许您规定一个标准。不匹配这个标准的元素会被从集合中删除，匹配的元素会被返回
        // not()，法返回不匹配标准的所有元素

        // Ajax
        // $(selector).load(URL,data,callback);
        // 其中的callback有三个参数：
        // responseTxt - 包含调用成功时的结果内容
        // statusTXT - 包含调用的状态
        // xhr - 包含 XMLHttpRequest 对象

        // GET - 从指定的资源请求数据
        // $.get(URL,callback);
        // POST - 向指定的资源提交要处理的数据
        // $.post(URL,data,callback);

        // jQuery链式调用,return this返回当前对象，来维护插件链式调用，each循环实现每个对象的访问
        $.fn.example = function () {
            return this.each(function() {
                // do something
            });
        };

        // $.fn是指jquery的命名空间，加上fn上的方法及属性，会对jquery实例每一个有效，类似于在jQuery实例上
        // 添加一个prototype方法
        // $.fn = jQuery.prototype = {
        　　　 //    init: function( selector, context ) {//….
        //……
        // };

        // jQuery为开发插件提拱了两个方法，分别是：
        // jQuery.extend(object) = jQuery.object; 为扩展jQuery类本身.为类添加新的方法,可以理解为添加静态方法，
        // 类似$.ajax(),$.extend()

        // jQuery.fn.extend(object); 给jQuery对象添加方法,jQuery.fn.extend = jQuery.prototype.extend,
        // 类似$(ele).addClass()等等，需要调用jQuery实例的方法

        // $.extend(),extend(dest,src1,src2,src3...),合并多个对象,是将src1,src2,src3...合并到dest中,
        // 返回值为合并后的dest,后面对象的同名属性会覆盖前面的，没有的对象属性会被添加
        // extend(boolean,dest,src1,src2,src3...)，第一个布尔值为true时表示深度拷贝，属性中的对象的属性会被复制进属性对象

        // jQuery(function(){}) = jQuery(docunemt).ready(function(){})，意义为在DOM加载完毕后执行ready()方法
        // (funtion($){}(jQuery)，用于存放开发插件的代码，执行其中代码DOM不一定存在，直接自动执行DOM操作代码请小心使用

        // 开发插件模式
        // 避免全局依赖，避免第三方破坏，兼容jQuery操作符'$'和'jQuery'
        // (function ($) {
        //     $.fn.example = function () {
        //         alert('example')
        //     }
        // })(jQuery);

        // 单例模式,如果实例存在就不再重新创建实例，利用data()来存放插件对象的实例
        $.fn.example = function() {
            var that = $(this);
            instance = that.data('example');
            if (!instance) {
                that.data('example', (instance = new example()));
            }
        };

        // jQuery回调
        
    </script>
</body>

</html>
